{
	"info": {
		"_postman_id": "7855b3c4-c8e2-4633-ad62-ebc3424eb97f",
		"name": "TSM API Test main",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Clients FIX Data",
			"description": "",
			"item": [
				{
					"name": "CREATE client FIX Data",
					"description": "",
					"item": [
						{
							"name": "POST CREATE NEW client FIX Data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "323b87c7-18cb-419c-8902-fac6a864fcb5",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											"var client_titles = [",
											"    \"name\",",
											"    \"country\",",
											"    \"state\",",
											"    \"city\",",
											"    \"zip\",",
											"/*  ",
											"    \"legalName\",",
											"    \"note\",",
											"    \"email\",",
											"    \"email2\",",
											"    \"phone\",",
											"    \"phone2\",",
											"    \"fax\",",
											"    \"addressLine\",",
											"    \"addressLine2\",",
											"    \"tin\",",
											"    \"tax\",",
											"    \"paymentType\",",
											"    \"currency\",",
											"    \"bankName\",",
											"    \"bankAccount\",",
											"    \"preferredLanguage\"",
											"*/",
											"];",
											"",
											"console.log(\"client_titles length: \" + client_titles.length);",
											"",
											"//Парсим Json файл",
											"var jsonData = pm.response.json();",
											"",
											"//Сохраняем id созданого клиента для передачи этого значения в следующие тесты",
											"pm.environment.set(\"id\", jsonData.client.id);",
											"console.log(\"Iteration client id: \" + jsonData.client.id);",
											"",
											"//Проверяем соответствие свойств клиента сохраненных в переменных окружения с полученными от сервера",
											"for (var i=0; i < client_titles.length; i++)",
											"    {",
											"    console.log(\"iteration# \"+i);",
											"    console.log(\"client_title: \"+client_titles[i]);",
											"    console.log(\"jsonData title: \" +jsonData.client[client_titles[i]]);",
											"    console.log(\"environment title: \" + pm.environment.get(client_titles[i]));",
											"    ",
											"    pm.test(\"Verify client \"+ client_titles[i] +\" \" + jsonData.client[client_titles[i]], function () {",
											"    pm.expect(jsonData.client[client_titles[i]]).to.eql(pm.environment.get(client_titles[i]));",
											"    });",
											"}",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "7a169fd9-0183-419d-aed1-08907b1ae162",
										"type": "text/javascript",
										"exec": [
											"var city = \"Austin7\";",
											"var name = \"City of Austin7\";",
											"var country = \"US\";",
											"var state = \"TX\"",
											"var zip = \"78747\";",
											"pm.environment.set(\"city\", city);",
											"pm.environment.set(\"name\", name);",
											"pm.environment.set(\"country\", country);",
											"pm.environment.set(\"state\", state);",
											"pm.environment.set(\"zip\", zip);"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "*/*"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"client\": {\r\n    \"city\": \"{{city}}\",\r\n    \"country\": \"{{country}}\",\r\n    \"name\": \"{{name}}\",\r\n    \"state\": \"{{state}}\",\r\n    \"zip\": \"{{zip}}\"\r\n  }\r\n}"
								},
								"url": {
									"raw": "{{BaseUrl}}/rest/v1/clients?token={{token}}",
									"host": [
										"{{BaseUrl}}"
									],
									"path": [
										"rest",
										"v1",
										"clients"
									],
									"query": [
										{
											"key": "token",
											"value": "{{token}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "GET VERIFY client info FIX Data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "68154300-0e23-4e1f-ac80-a8b4d66e1175",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											"var client_titles = [",
											"    \"id\",",
											"    \"name\",",
											"    \"country\",",
											"    \"state\",",
											"    \"city\",",
											"    \"zip\",",
											"/*  ",
											"    \"legalName\",",
											"    \"note\",",
											"    \"email\",",
											"    \"email2\",",
											"    \"phone\",",
											"    \"phone2\",",
											"    \"fax\",",
											"    \"addressLine\",",
											"    \"addressLine2\",",
											"    \"tin\",",
											"    \"tax\",",
											"    \"paymentType\",",
											"    \"currency\",",
											"    \"bankName\",",
											"    \"bankAccount\",",
											"    \"preferredLanguage\"",
											"*/",
											"];",
											"",
											"console.log(\"client_titles length: \" + client_titles.length);",
											"",
											"//Парсим Json файл",
											"var jsonData = pm.response.json();",
											"",
											"//Проверяем соответствие свойств клиента сохраненных в переменных окружения с полученными от сервера",
											"for (var i=0; i < client_titles.length; i++)",
											"    {",
											"    console.log(\"iteration# \"+i);",
											"    console.log(\"client_title: \"+client_titles[i]);",
											"    console.log(\"jsonData title: \" +jsonData.client[client_titles[i]]);",
											"    console.log(\"environment title: \" + pm.environment.get(client_titles[i]));",
											"    ",
											"    pm.test(\"Verify client \"+ client_titles[i] +\" \" + jsonData.client[client_titles[i]], function () {",
											"    pm.expect(jsonData.client[client_titles[i]]).to.eql(pm.environment.get(client_titles[i]));",
											"    });",
											"}",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3d14173d-11ad-466a-a9de-4cfd9814d659",
										"type": "text/javascript",
										"exec": [
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "*/*"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"client\": {\r\n    \"addressLine\": \"Brodie Ln\",\r\n    \"addressLine2\": \"Apt 628\",\r\n    \"city\": \"Austin\",\r\n    \"country\": \"USA\",\r\n    \"currency\": \"USD\",\r\n    \"email\": \"string\",\r\n    \"name\": \"New client 4\",\r\n    \"phone\": \"512-975-0001\",\r\n    \"preferredLanguage\": \"ENG\",\r\n    \"state\": \"TX\",\r\n    \"zip\": \"78745\"\r\n  }\r\n}"
								},
								"url": {
									"raw": "{{BaseUrl}}/rest/v1/clients/{{id}}?token={{token}}",
									"host": [
										"{{BaseUrl}}"
									],
									"path": [
										"rest",
										"v1",
										"clients",
										"{{id}}"
									],
									"query": [
										{
											"key": "token",
											"value": "{{token}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "6473e142-f3e3-4332-9136-db5b0eb8e669",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "0ee0a5ed-2f4d-4464-a705-ad553201d271",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "UPDATE client info FIX Data",
					"description": "",
					"item": [
						{
							"name": "PUT UPDATE NEW client FIX Data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ae6d4aa5-f783-41d1-8d4c-4a566f9de067",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											"var client_titles = [",
											"    \"id\",",
											"    \"name\",",
											"    \"country\",",
											"    \"state\",",
											"    \"city\",",
											"    \"zip\",",
											"/*  ",
											"    \"legalName\",",
											"    \"note\",",
											"    \"email\",",
											"    \"email2\",",
											"    \"phone\",",
											"    \"phone2\",",
											"    \"fax\",",
											"    \"addressLine\",",
											"    \"addressLine2\",",
											"    \"tin\",",
											"    \"tax\",",
											"    \"paymentType\",",
											"    \"currency\",",
											"    \"bankName\",",
											"    \"bankAccount\",",
											"    \"preferredLanguage\"",
											"*/",
											"];",
											"",
											"console.log(\"client_titles length: \" + client_titles.length);",
											"",
											"//Парсим Json файл",
											"var jsonData = pm.response.json();",
											"",
											"//Проверяем соответствие свойств клиента сохраненных в переменных окружения с полученными от сервера",
											"for (var i=0; i < client_titles.length; i++)",
											"    {",
											"    console.log(\"iteration# \"+i);",
											"    console.log(\"client_title: \"+client_titles[i]);",
											"    console.log(\"jsonData title: \" +jsonData.client[client_titles[i]]);",
											"    console.log(\"environment title: \" + pm.environment.get(client_titles[i]));",
											"    ",
											"    pm.test(\"Verify client \"+ client_titles[i] +\" \" + jsonData.client[client_titles[i]], function () {",
											"    pm.expect(jsonData.client[client_titles[i]]).to.eql(pm.environment.get(client_titles[i]));",
											"    });",
											"}"
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c36e2bd1-2cca-4342-8c2f-8c4a32c62bff",
										"type": "text/javascript",
										"exec": [
											"var city = pm.environment.get(\"city\")+\"_updated\";",
											"var name = pm.environment.get(\"name\")+\"_updated\";",
											"var country = pm.environment.get(\"country\")+\"_updated\";",
											"var zip = pm.environment.get(\"zip\")+\"_updated\";",
											"var state = pm.environment.get(\"state\")+\"_updated\";",
											"pm.environment.set(\"city\", city);",
											"pm.environment.set(\"name\", name);",
											"pm.environment.set(\"country\", country);",
											"pm.environment.set(\"state\", state);",
											"pm.environment.set(\"zip\", zip);"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "*/*"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"client\": {\r\n  \t\"id\": \"{{id}}\",\r\n  \t\"name\": \"{{name}}\",\r\n    \"city\": \"{{city}}\",\r\n    \"country\": \"{{country}}\",\r\n    \"state\": \"{{state}}\",\r\n    \"zip\": \"{{zip}}\"\r\n  }\r\n}"
								},
								"url": {
									"raw": "{{BaseUrl}}/rest/v1/clients/{{id}}?token={{token}}",
									"host": [
										"{{BaseUrl}}"
									],
									"path": [
										"rest",
										"v1",
										"clients",
										"{{id}}"
									],
									"query": [
										{
											"key": "token",
											"value": "{{token}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "GET VERIFY client info FIX Data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "771f92a0-2d9f-42fe-853d-e389a2ba540f",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											"var client_titles = [",
											"    \"id\",",
											"    \"name\",",
											"    \"country\",",
											"    \"state\",",
											"    \"city\",",
											"    \"zip\",",
											"/*  ",
											"    \"legalName\",",
											"    \"note\",",
											"    \"email\",",
											"    \"email2\",",
											"    \"phone\",",
											"    \"phone2\",",
											"    \"fax\",",
											"    \"addressLine\",",
											"    \"addressLine2\",",
											"    \"tin\",",
											"    \"tax\",",
											"    \"paymentType\",",
											"    \"currency\",",
											"    \"bankName\",",
											"    \"bankAccount\",",
											"    \"preferredLanguage\"",
											"*/",
											"];",
											"",
											"console.log(\"client_titles length: \" + client_titles.length);",
											"",
											"//Парсим Json файл",
											"var jsonData = pm.response.json();",
											"",
											"//Проверяем соответствие свойств клиента сохраненных в переменных окружения с полученными от сервера",
											"for (var i=0; i < client_titles.length; i++)",
											"    {",
											"    console.log(\"iteration# \"+i);",
											"    console.log(\"client_title: \"+client_titles[i]);",
											"    console.log(\"jsonData title: \" +jsonData.client[client_titles[i]]);",
											"    console.log(\"environment title: \" + pm.environment.get(client_titles[i]));",
											"    ",
											"    pm.test(\"Verify client \"+ client_titles[i] +\" \" + jsonData.client[client_titles[i]], function () {",
											"    pm.expect(jsonData.client[client_titles[i]]).to.eql(pm.environment.get(client_titles[i]));",
											"    });",
											"}"
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3d14173d-11ad-466a-a9de-4cfd9814d659",
										"type": "text/javascript",
										"exec": [
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "*/*"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"client\": {\r\n    \"addressLine\": \"Brodie Ln\",\r\n    \"addressLine2\": \"Apt 628\",\r\n    \"city\": \"Austin\",\r\n    \"country\": \"USA\",\r\n    \"currency\": \"USD\",\r\n    \"email\": \"string\",\r\n    \"name\": \"New client 4\",\r\n    \"phone\": \"512-975-0001\",\r\n    \"preferredLanguage\": \"ENG\",\r\n    \"state\": \"TX\",\r\n    \"zip\": \"78745\"\r\n  }\r\n}"
								},
								"url": {
									"raw": "{{BaseUrl}}/rest/v1/clients/{{id}}?token={{token}}",
									"host": [
										"{{BaseUrl}}"
									],
									"path": [
										"rest",
										"v1",
										"clients",
										"{{id}}"
									],
									"query": [
										{
											"key": "token",
											"value": "{{token}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7b98433a-5bc1-44ee-9788-a1f1221478a6",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "edaa2ecd-3817-43fb-97ef-82dc0508805c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "DELETE client from list FIX Data",
					"description": "",
					"item": [
						{
							"name": "PUT SOFT REMOVE client FIX Data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "316e2837-679a-4e77-a213-953aec95846d",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											"var client_titles = [",
											"    \"name\",",
											"    \"country\",",
											"    \"state\",",
											"    \"city\",",
											"    \"zip\",",
											"/*  ",
											"    \"legalName\",",
											"    \"note\",",
											"    \"email\",",
											"    \"email2\",",
											"    \"phone\",",
											"    \"phone2\",",
											"    \"fax\",",
											"    \"addressLine\",",
											"    \"addressLine2\",",
											"    \"tin\",",
											"    \"tax\",",
											"    \"paymentType\",",
											"    \"currency\",",
											"    \"bankName\",",
											"    \"bankAccount\",",
											"    \"preferredLanguage\"",
											"*/",
											"];",
											"",
											"console.log(\"client_titles length: \" + client_titles.length);",
											"",
											"//Парсим Json файл",
											"var jsonData = pm.response.json();",
											"",
											"//Проверяем соответствие свойств клиента полученныx от сервера с null ",
											"for (var i=0; i < client_titles.length; i++)",
											"    {",
											"    console.log(\"iteration# \"+i);",
											"    console.log(\"client_title: \"+client_titles[i]);",
											"    console.log(\"jsonData title: \" +jsonData.client[client_titles[i]]);",
											"    console.log(\"environment title: \" + pm.environment.get(client_titles[i]));",
											"    ",
											"    pm.test(\"Verify client \"+ client_titles[i] +\" \" + jsonData.client[client_titles[i]], function () {",
											"    pm.expect(jsonData.client[client_titles[i]]).to.eql(null);",
											"    });",
											"}"
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "91beae45-2b25-453f-a155-f832c6901209",
										"type": "text/javascript",
										"exec": [
											"pm.environment.unset(\"city\");",
											"pm.environment.unset(\"name\");",
											"pm.environment.unset(\"country\");",
											"pm.environment.unset(\"state\");",
											"pm.environment.unset(\"zip\");"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "*/*"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"client\": {\r\n  \t\"id\": \"{{id}}\",\r\n    \"deleted\": \"true\"\r\n  }\r\n}"
								},
								"url": {
									"raw": "{{BaseUrl}}/rest/v1/clients/{{id}}?token={{token}}",
									"host": [
										"{{BaseUrl}}"
									],
									"path": [
										"rest",
										"v1",
										"clients",
										"{{id}}"
									],
									"query": [
										{
											"key": "token",
											"value": "{{token}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "GET VERIFY client info FIX Data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fa55a974-ab13-4226-86fd-612c8b6ea152",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Successful GET request\", function () {",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201,202]);",
											"});",
											"",
											"var client_titles = [",
											"    \"name\",",
											"    \"country\",",
											"    \"state\",",
											"    \"city\",",
											"    \"zip\",",
											"/*  ",
											"    \"legalName\",",
											"    \"note\",",
											"    \"email\",",
											"    \"email2\",",
											"    \"phone\",",
											"    \"phone2\",",
											"    \"fax\",",
											"    \"addressLine\",",
											"    \"addressLine2\",",
											"    \"tin\",",
											"    \"tax\",",
											"    \"paymentType\",",
											"    \"currency\",",
											"    \"bankName\",",
											"    \"bankAccount\",",
											"    \"preferredLanguage\"",
											"*/",
											"];",
											"",
											"console.log(\"client_titles length: \" + client_titles.length);",
											"",
											"//Парсим Json файл",
											"var jsonData = pm.response.json();",
											"",
											"//Проверяем соответствие свойств клиента сохраненных в переменных окружения с полученными от сервера",
											"for (var i=0; i < client_titles.length; i++)",
											"    {",
											"    console.log(\"iteration# \"+i);",
											"    console.log(\"client_title: \"+client_titles[i]);",
											"    console.log(\"jsonData title: \" +jsonData.client[client_titles[i]]);",
											"    console.log(\"environment title: \" + pm.environment.get(client_titles[i]));",
											"    ",
											"    pm.test(\"Verify client \"+ client_titles[i] +\" \" + jsonData.client[client_titles[i]], function () {",
											"    pm.expect(jsonData.client[client_titles[i]]).to.eql(null);",
											"    });",
											"}",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3d14173d-11ad-466a-a9de-4cfd9814d659",
										"type": "text/javascript",
										"exec": [
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "*/*"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"client\": {\r\n    \"addressLine\": \"Brodie Ln\",\r\n    \"addressLine2\": \"Apt 628\",\r\n    \"city\": \"Austin\",\r\n    \"country\": \"USA\",\r\n    \"currency\": \"USD\",\r\n    \"email\": \"string\",\r\n    \"name\": \"New client 4\",\r\n    \"phone\": \"512-975-0001\",\r\n    \"preferredLanguage\": \"ENG\",\r\n    \"state\": \"TX\",\r\n    \"zip\": \"78745\"\r\n  }\r\n}"
								},
								"url": {
									"raw": "{{BaseUrl}}/rest/v1/clients/{{id}}?token={{token}}",
									"host": [
										"{{BaseUrl}}"
									],
									"path": [
										"rest",
										"v1",
										"clients",
										"{{id}}"
									],
									"query": [
										{
											"key": "token",
											"value": "{{token}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		}
	]
}